npm install @tensorflow/tfjs
npm install -g windows-build-tools
npm install @tensorflow/tfjs-node
npm install redis

// install these for auto migration
npm install -g sequelize-auto

// create docker image run dockerfile step 
docker build -t vanbui0812/backend:v0.0.1 . 
docker build -t vanbui0812/frontend:v0.0.1 . 

docker scout quickview

//  check for images existing
docker images 
    // run backend image
    docker run -p 3000:3000 830e753bf73c
    // run frontend image
    docker run -p 5000:5000 7054a52cae47

// stop container running port
docker ps
docker stop container_id

// logs error when compose
docker-compose logs backend
docker-compose logs frontend

// fix error postgre password 
docker run --rm -v "C:\Users\DELL\docker\postgres\16:/var/lib/postgresql/data" -p 5432:5432 --name smartfinancer_db -e POSTGRES_PASSWORD=0812 -d postgres:16

// after fix
// optional
cd backend
docker build -t vanbui0812/backend:v0.0.1 . 
docker push vanbui0812/backend:v0.0.1
cd frontend
docker build -t vanbui0812/frontend:v0.0.1 .
docker push vanbui0812/frontend:v0.0.1

// recompose 
docker-compose down
docker-compose build
sudo docker-compose build --no-cache 
docker system prune -a --volumes // only use when not use it anymore
docker-compose up -d

// verify success comopse
docker-compose ps
docker-compose logs backend
docker-compose logs frontend
docker-compose logs db
docker-compose logs redis

// drop db
docker exec -it smartfinancer_db psql -U postgres -d postgres -c "DROP DATABASE IF EXISTS smartfinancer;"

//create db 
docker exec -it smartfinancer_db psql -U postgres -d postgres -c "CREATE DATABASE smartfinancer;"

// dumb manually
    // access postgre container db
    docker exec -it smartfinancer_db bash
    // import the dump file into the smartfinancer database
    psql -U postgres -d smartfinancer -f /dbdump.sql

    // verify db
    psql -U postgres -d smartfinancer // check if db exists
    \dt // check relation exists
    SELECT * FROM public."user" WHERE user_id = 8; // check data exists

    // exit

// erase redis cache
docker ps
docker exec -it smartfinancer_redis redis-cli
FLUSHALL

// verify redis server is running
docker ps
docker exec -it my-redis redis-cli
PING

// cai docker compose on vm 
sudo curl -L https://github.com/docker/compose/releases/dow...-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

// cannot start docker daemon
    // add user to docker group (if not already added)
    sudo usermod -aG docker $USER
    // create a symbolic link to /usr/bin using the following command
    sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
    // Restart docker service
    sudo service docker restart
    

sudo apt update
sudo apt install docker.io
sudo docker version

sudo curl -L https://github.com/docker/compose/releases/download/1.21.0/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose